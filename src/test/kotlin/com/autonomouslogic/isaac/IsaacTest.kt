package com.autonomouslogic.isaac

import Isaac
import kotlin.test.Test
import kotlin.test.assertEquals

internal class IsaacTest {
	// From randvect.txt
	val zeroSequence: UIntArray = uintArrayOf(
		0xf650e4c8u, 0xe448e96du, 0x98db2fb4u, 0xf5fad54fu, 0x433f1afbu, 0xedec154au, 0xd8370487u, 0x46ca4f9au,
		0x5de3743eu, 0x88381097u, 0xf1d444ebu, 0x823cedb6u, 0x6a83e1e0u, 0x4a5f6355u, 0xc7442433u, 0x25890e2eu,
		0x7452e319u, 0x57161df6u, 0x38a824f3u, 0x002ed713u, 0x29f55449u, 0x51c08d83u, 0xd78cb99eu, 0xa0cc74f3u,
		0x8f651659u, 0xcbc8b7c2u, 0xf5f71c69u, 0x12ad6419u, 0xe5792e1bu, 0x860536b8u, 0x09b3ce98u, 0xd45d6d81u,
		0xf3b26129u, 0x17e38f85u, 0x29cf72ceu, 0x349947b0u, 0xc998f9ffu, 0xb5e13daeu, 0x32ae2a2bu, 0xf7cf814cu,
		0x8ebfa303u, 0xcf22e064u, 0x0b923200u, 0xeca4d58au, 0xef53cec4u, 0xd0f7b37du, 0x9c411a2au, 0xffdf8a80u,
		0xb40e27bcu, 0xb4d2f976u, 0x44b89b08u, 0xf37c71d5u, 0x1a70e7e9u, 0x0bdb9c30u, 0x60dc5207u, 0xb3c3f24bu,
		0xd7386806u, 0x229749b5u, 0x4e232cd0u, 0x91dabc65u, 0xa70e1101u, 0x8b87437eu, 0x5781414fu, 0xcdbc62e2u,
		0x8107c9ffu, 0x69d2e4aeu, 0x3b18e752u, 0xb143b688u, 0x6f4e0772u, 0x95138769u, 0x943c3c74u, 0xafc17a97u,
		0x0fd43963u, 0x6a529b0bu, 0xd8c58a6au, 0xa8bcc22du, 0x2db35dfeu, 0xa7a2f402u, 0x6cb167dbu, 0x538e1f4eu,
		0x7275e277u, 0x1d3b8e97u, 0xecc5dc91u, 0x15e3a5b9u, 0x03696614u, 0x30ab93ecu, 0xac9fe69du, 0x7bc76811u,
		0x60eda8dau, 0x28833522u, 0xd5295ebcu, 0x5adb60e7u, 0xf7e1cdd0u, 0x97166d14u, 0xb67ec13au, 0x210f3925u,
		0x64af0fefu, 0x0d028684u, 0x3aea3decu, 0xb058bafbu, 0xb8b0ccfcu, 0xf2b5cc05u, 0xe3a662d9u, 0x814bc24cu,
		0x2364a1aau, 0x37c0ed05u, 0x2b36505cu, 0x451e7ec8u, 0x5d2a542fu, 0xe43d0fbbu, 0x91c8d925u, 0x60d4d5f8u,
		0x12a0594bu, 0x9e8a51dau, 0xcd49ebdbu, 0x1b0dcdc1u, 0xcd57c7f7u, 0xe6344451u, 0x7ded386fu, 0x2f36fa86u,
		0xa6d12101u, 0x33bc405du, 0xb388d96cu, 0xdb6dbe96u, 0xfe29661cu, 0x13edc0cbu, 0xcb0eee4au, 0x70cc94aeu,
		0xde11ed34u, 0x0606cf9fu, 0x3a6ce389u, 0x23d74f4eu, 0xa37f63ffu, 0x917bdec2u, 0xd73f72d4u, 0x0e7e0e67u,
		0x3d77d9a2u, 0x13add922u, 0x8891b3dbu, 0x01a9bd70u, 0x56a001e3u, 0xd51f093du, 0xcc033ce3u, 0x5ad0d3b0u,
		0x34105a8cu, 0x6a123f57u, 0xbd2e5024u, 0x7364944bu, 0xe89b1a3bu, 0x21835c4du, 0x9f39e2d9u, 0xd405ded8u,
		0x294d37e5u, 0xbccaaeedu, 0x35a124b5u, 0x6708a2bcu, 0xb00960bau, 0x2a98121au, 0x4d8fae82u, 0x0bb3263fu,
		0x12595a19u, 0x6a107589u, 0x0809e494u, 0x21c171ecu, 0x884d6825u, 0x14c8009bu, 0xb0b84e7bu, 0x03fb88f4u,
		0x28e7cb78u, 0x9388b13bu, 0xdd2dc1d5u, 0x848f520au, 0x07c28cd1u, 0x68a39358u, 0x72c9137du, 0x127dd430u,
		0xc613f157u, 0x8c2f0d55u, 0xf7d3f39fu, 0x309bfb78u, 0x8406b137u, 0x46c0a6f5u, 0x3718d597u, 0x08607f04u,
		0x76904b6du, 0x04db4e13u, 0xcd7411a7u, 0xb510ce0eu, 0xbfc7f7ccu, 0xb83f957au, 0xfdfef62du, 0xc35e4580u,
		0x3ff1e524u, 0x4112d96cu, 0x02c9b944u, 0xd5990dfbu, 0xe7e26581u, 0x0d9c7e7eu, 0x826dfa89u, 0x66f1e0abu,
		0x30bcc764u, 0xeadebeacu, 0xed35e5eeu, 0x0c571a7du, 0xe4f3a26au, 0xf7f58f7bu, 0xadf6bc23u, 0x5d023e65u,
		0x1ed3ff4eu, 0xec46b0b6u, 0xd2a93b51u, 0xe75b41c9u, 0x7e315aebu, 0x61119a5au, 0x53245b79u, 0x33f6d7b1u,
		0xcae8debau, 0x50fc8194u, 0xafa92a6du, 0xc87c8006u, 0x4188bfcdu, 0x8bace62eu, 0x78ffa568u, 0x5597ec0fu,
		0xb4415f7du, 0x08294766u, 0xad567643u, 0x09c36f90u, 0x3dde9f39u, 0x4a0a283cu, 0x18080c8eu, 0x080c79ecu,
		0x79ae4c10u, 0xcb9e1563u, 0x7cdd662fu, 0x62d31911u, 0xa4ca0cf1u, 0x5cf824cdu, 0x3b708f99u, 0x1e16614cu,
		0xb6b9d766u, 0x5de87abbu, 0x7229ea81u, 0xd5b2d750u, 0x56e6cd21u, 0xfe1e42d5u, 0x96da2655u, 0xc2b9aa36u,
		0xb8f6fd4au, 0x6a158d10u, 0x01913fd3u, 0xaf7d1fb8u, 0x0b5e435fu, 0x90c10757u, 0x6554abdau, 0x7a68710fu,
		0x82ac484fu, 0xd7e1c7beu, 0x95c85eaau, 0x94a302f4u, 0x4d3cfbdau, 0x786b2908u, 0x1010b275u, 0x82d53d12u,
		0x21e2a51cu, 0x3d1e9150u, 0xb059261du, 0xd0638e1au, 0x31860f05u, 0x81f2864du, 0xff4cfc35u, 0x0451516du,
		0xbd086f26u, 0xbc5654c1u, 0x65dfa427u, 0xa82427f5u, 0x582e3014u, 0xb8d2486du, 0xc79a1749u, 0x9a1d7745u,
		0x8766bb54u, 0x1e04a7f7u, 0x3d3dff8au, 0xd5ec6bf4u, 0xdbef7d9fu, 0x36ec0ea3u, 0x1feb2e4fu, 0x15cfcc5cu,
		0xd8c423fbu, 0xd0ef3cc9u, 0xeb244925u, 0xba5590c8u, 0xa5f48ac4u, 0x33c5321cu, 0x613b67b2u, 0x479c3a22u,
		0xe21339ccu, 0x10d210aau, 0x931dd7e2u, 0xef05ee06u, 0xb82f2703u, 0xa385cb2cu, 0x5d67133cu, 0x877eb7b4u,
		0x1e3437f7u, 0x5afb43aeu, 0x53c078f3u, 0x94d90481u, 0x1d964589u, 0x08063a85u, 0xe1322228u, 0x1956b1e5u,
		0x31860f13u, 0x2e7b022fu, 0x21182ca3u, 0x96f703acu, 0x46819e2eu, 0x0d28fe52u, 0x3724d4dcu, 0xa0eabe6bu,
		0xc66699fdu, 0xc6112fddu, 0x19c1e69cu, 0x04d3658au, 0x4b55dd99u, 0x31907d62u, 0xf854b522u, 0x4d678f26u,
		0x22ae0582u, 0xeafed133u, 0xe4a51d21u, 0x84bd6dd6u, 0xc1a51375u, 0x3f28ee63u, 0xfb737b1au, 0x70a1660eu,
		0x8a8dfaa3u, 0x1be79937u, 0xf7476978u, 0x513c1764u, 0x531ac6bfu, 0x12c06908u, 0x001cdb95u, 0x1a4b6a53u,
		0xd067fce5u, 0x12b2cfb6u, 0x9ddb477fu, 0x740e0066u, 0x39ddf25au, 0xcc8bfa2du, 0xf1b20eafu, 0x64f2632cu,
		0x9783cdeeu, 0x63bfd4d8u, 0x0084cfe5u, 0x75f4e9e2u, 0x19b48fd0u, 0x6c48ddd8u, 0x7a36af93u, 0x71865c4cu,
		0x9ce0199du, 0x867027d7u, 0x2cb7b77fu, 0x84ef01dau, 0x72f5972fu, 0x040f7074u, 0xdf9afa29u, 0xc921f94eu,
		0x75c08a36u, 0x18c1ef9au, 0xd649a428u, 0xc5b71937u, 0x8a30738au, 0xd97cd348u, 0x858129a6u, 0x239e3b0au,
		0xbbb8abc4u, 0x80fac4c2u, 0xecfcf20bu, 0xd9d711f9u, 0xe2a4ef71u, 0xb5fe87c0u, 0xbe8b06b2u, 0xaafef5a7u,
		0x9c15db3bu, 0x0aeb8165u, 0x4389a84au, 0x253b1d7au, 0x19047c79u, 0x7cdc78a2u, 0xd20adf03u, 0x56f55a71u,
		0x3e730fa8u, 0xfd8650d8u, 0x959e234eu, 0xb7546681u, 0xdad1b22au, 0x142a6e85u, 0x8ef4bce6u, 0x68235b9du,
		0x85a13f85u, 0x74096ae7u, 0xa949bea2u, 0x29322d0du, 0xd5683858u, 0x82846526u, 0x403dae08u, 0x6dd1943au,
		0xe1279bffu, 0x9e7e4f04u, 0x1c3a4524u, 0x484525e4u, 0x81d4cc5fu, 0xe24124c0u, 0x037464c0u, 0xbf1bd691u,
		0x26ceb003u, 0x275ead3au, 0xc5bde908u, 0x26414ff3u, 0xa30519adu, 0xd7b43abeu, 0x2ce5d3d5u, 0x88412761u,
		0x97ca2070u, 0xe5fbb9c7u, 0x276df0b4u, 0x308f751fu, 0x37a97df6u, 0xc9cd808cu, 0xfe4cb380u, 0x3d469303u,
		0xaee19096u, 0xc0d5d42au, 0x4e823ad3u, 0xf5f9cc3bu, 0x4286619cu, 0x9ca45e1cu, 0x66c97340u, 0x891aec49u,
		0x45bae606u, 0xc798f047u, 0x52649d6cu, 0xce86fdfcu, 0x80c6e402u, 0xd6ec2f2bu, 0x27c82282u, 0x1fe26ce0u,
		0x92f57ea7u, 0xde462f4du, 0x07497caeu, 0x5a48755cu, 0x721502ddu, 0x6cbe7935u, 0x836d8003u, 0x9ead7f70u,
		0x9ab3a42fu, 0x4c8652d6u, 0x32e39273u, 0xe8fa3860u, 0x1da4f25au, 0x0cd6ef81u, 0x02503f7du, 0x8854a0a1u,
		0x9a30c4e8u, 0x88157153u, 0x05efe294u, 0x57c4c925u, 0x2887d96fu, 0xc1a71e3cu, 0xe9f84163u, 0x2d0985deu,
		0xd21e796cu, 0x6fb5ce56u, 0x02614abfu, 0xc3c7be2cu, 0xb54fed6fu, 0xa617a083u, 0xc3142d8fu, 0x6079e4ceu,
		0xceffc147u, 0x1d0cb81bu, 0xdc153e5fu, 0xe36ef5bbu, 0xd531161au, 0x165b1015u, 0x7aa114edu, 0x3f7579b3u,
		0xf7f395f1u, 0xbc6172c7u, 0xa86f875eu, 0x0e6c51b3u, 0xcdfec2afu, 0x73c0e762u, 0x824c2009u, 0xc5a87748u,
		0x94d40125u, 0x8aba3ffbu, 0xd32be060u, 0x8c17eff0u, 0x21e2547eu, 0x07cffad9u, 0x05340e15u, 0xf3310c92u,
		0x9d8d1908u, 0x86ba527fu, 0xf943f672u, 0xef73fbf0u, 0x46d95ca5u, 0xc54cd95bu, 0x9d855e89u, 0x4bb5af29u
	)

	@Test
	fun shouldGenerateReferenceSequence() {
		val rng = Isaac(UIntArray(256))
		for (i in zeroSequence.indices) {
			val v = zeroSequence[i]
			assertEquals(v, rng.nextInt(), "i: $i")
		}
	}
}
